<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800">
    <!-- Background -->
    <rect width="1000" height="800" fill="#ffffff"/>
    
    <!-- CLI Level -->
    <rect x="400" y="20" width="200" height="60" rx="5" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
    <text x="500" y="45" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">CLI Entry Point</text>
    <text x="500" y="65" text-anchor="middle" font-family="Arial" font-size="12">run_study.py</text>
    
    <!-- StudyRunner Level -->
    <rect x="300" y="120" width="400" height="100" rx="5" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
    <text x="500" y="145" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">StudyRunner</text>
    <rect x="320" y="160" width="170" height="40" rx="3" fill="#ffffff" stroke="#7b1fa2"/>
    <text x="405" y="185" text-anchor="middle" font-family="Arial" font-size="12">Parameter Sweep</text>
    <rect x="510" y="160" width="170" height="40" rx="3" fill="#ffffff" stroke="#7b1fa2"/>
    <text x="595" y="185" text-anchor="middle" font-family="Arial" font-size="12">Scenario Comparison</text>
    
    <!-- ExperimentRunner Level -->
    <rect x="200" y="260" width="600" height="80" rx="5" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
    <text x="500" y="285" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">ExperimentRunner</text>
    <text x="500" y="305" text-anchor="middle" font-family="Arial" font-size="12">Manages Scenarios and Replications</text>
    
    <!-- ScenarioRunner Level -->
    <rect x="150" y="380" width="700" height="80" rx="5" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
    <text x="500" y="405" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">ScenarioRunner</text>
    <text x="500" y="425" text-anchor="middle" font-family="Arial" font-size="12">Executes Individual Scenarios</text>
    
    <!-- Core Components Level -->
    <rect x="100" y="500" width="800" height="150" rx="5" fill="#e1f5fe" stroke="#0288d1" stroke-width="2"/>
    <text x="500" y="525" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">SimulationOrchestrator</text>
    
    <!-- Core Components -->
    <rect x="120" y="545" width="150" height="40" rx="3" fill="#ffffff" stroke="#0288d1"/>
    <text x="195" y="570" text-anchor="middle" font-family="Arial" font-size="12">SimulationEngine</text>
    
    <rect x="290" y="545" width="150" height="40" rx="3" fill="#ffffff" stroke="#0288d1"/>
    <text x="365" y="570" text-anchor="middle" font-family="Arial" font-size="12">EventManager</text>
    
    <rect x="460" y="545" width="150" height="40" rx="3" fill="#ffffff" stroke="#0288d1"/>
    <text x="535" y="570" text-anchor="middle" font-family="Arial" font-size="12">StateManager</text>
    
    <rect x="630" y="545" width="150" height="40" rx="3" fill="#ffffff" stroke="#0288d1"/>
    <text x="705" y="570" text-anchor="middle" font-family="Arial" font-size="12">DemandManager</text>
    
    <!-- State Workers Level -->
    <rect x="50" y="690" width="900" height="80" rx="5" fill="#f5f5f5" stroke="#757575" stroke-width="2"/>
    <text x="500" y="715" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">State Workers</text>
    
    <!-- State Worker Components -->
    <rect x="70" y="730" width="150" height="30" rx="3" fill="#ffffff" stroke="#757575"/>
    <text x="145" y="750" text-anchor="middle" font-family="Arial" font-size="12">VehicleStateWorker</text>
    
    <rect x="240" y="730" width="150" height="30" rx="3" fill="#ffffff" stroke="#757575"/>
    <text x="315" y="750" text-anchor="middle" font-family="Arial" font-size="12">RequestStateWorker</text>
    
    <rect x="410" y="730" width="150" height="30" rx="3" fill="#ffffff" stroke="#757575"/>
    <text x="485" y="750" text-anchor="middle" font-family="Arial" font-size="12">RouteStateWorker</text>
    
    <rect x="580" y="730" width="150" height="30" rx="3" fill="#ffffff" stroke="#757575"/>
    <text x="655" y="750" text-anchor="middle" font-family="Arial" font-size="12">PassengerStateWorker</text>
    
    <rect x="750" y="730" width="150" height="30" rx="3" fill="#ffffff" stroke="#757575"/>
    <text x="825" y="750" text-anchor="middle" font-family="Arial" font-size="12">StopStateWorker</text>
    
    <!-- Connecting Lines -->
    <line x1="500" y1="80" x2="500" y2="120" stroke="#1976d2" stroke-width="2"/>
    <line x1="500" y1="220" x2="500" y2="260" stroke="#7b1fa2" stroke-width="2"/>
    <line x1="500" y1="340" x2="500" y2="380" stroke="#388e3c" stroke-width="2"/>
    <line x1="500" y1="460" x2="500" y2="500" stroke="#f57c00" stroke-width="2"/>
    <line x1="500" y1="650" x2="500" y2="690" stroke="#0288d1" stroke-width="2"/>
</svg>